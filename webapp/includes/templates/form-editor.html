{% extends "base.html" %}
{% block title %}Form Editor{% endblock %}
{% block content %}

<!DOCTYPE html>
<html>
<head>
<title> Form Editor</title>
</head>

<body>
<h1>{{form.name}}</h2>

<div class="section">
<h2> Edit form </h2>

<form action="form-editor.php?form={{form.name}}" method="post">

Name <input type="text" value="{{form.name}}" name="formName">
Current role id: {{form.roleid}} | For students: {{form.student}}<br>
Role <br> <select name="formRole" value="{{currentRole.id}}">
{% for role in roles %}
	<option value="{{role.id}}"> {{role.name}} </option>
{% endfor %}
</select>
<br>
For students? <input type="hidden" name="forStudent" value="0"> <input type ="checkbox" name="forStudent" value="1">
<input type="submit" name="submitForm">

</form>
</div>

<div class="section">
<h2>Form fields</h2>
{% for field in fields %}
	<a href="form-field-editor.php?form={{form.name}}&formfield={{field.id}}"> id: {{field.id}}, type: {{field.name}},
	label: {{field.label}}, default: {{field.default}}, order: {{field.order}}, name: {{field.fieldname}},
	end of line: {{field.eol}}, size: {{field.size}} </a>
	<br>
{% else %}
	<p> No form fields found. </p>
{% endfor %}
</div>

<div class="section">
<h2>Create new form field</h2>
<form action="form-editor.php?form={{form.name}}" method="post">

Type <br> <select name="type">

{% for type in types %}
<option value="{{type.id}}"> {{type.name}} </option>
{% endfor %}

</select>
<br>

Label <input type="text" name="label">
<br>

Default <input type="text" name="default">
<br>

Order <input type="text" name="order">
<br>

Name <input type="text" name="name">
<br>

End of line? <input type="hidden" name="eol" value="0"> <input type ="checkbox" name="eol" value="1">
<br>

Size <input type="text" name="size">
<br>

<input type="submit" name="submitField">
</form>
</div>
</body>
</html>

{% endblock %}